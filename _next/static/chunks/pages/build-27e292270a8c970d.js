(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[881],{7272:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/build",function(){return n(6338)}])},6338:function(e,s,n){"use strict";n.r(s),n.d(s,{__toc:function(){return a},default:function(){return p}});var i=n(4246),r=n(9304),l=n(8224),o=n(6282);n(6288);var t=n(1441),c={src:"/react-native-builder-bob//_next/static/media/react-native-builder-bob.f743a9da.svg",height:581,width:840,blurWidth:0,blurHeight:0};let a=[{depth:2,value:"Automatic configuration",id:"automatic-configuration"},{depth:2,value:"Manual configuration",id:"manual-configuration"},{depth:2,value:"Options",id:"options"},{depth:3,value:"source",id:"source"},{depth:3,value:"output",id:"output"},{depth:3,value:"exclude",id:"exclude"},{depth:3,value:"targets",id:"targets"},{depth:4,value:"module",id:"module"},{depth:5,value:"esm",id:"esm"},{depth:5,value:"configFile",id:"configfile"},{depth:5,value:"babelrc",id:"babelrc"},{depth:5,value:"jsxRuntime",id:"jsxruntime"},{depth:5,value:"copyFlow",id:"copyflow"},{depth:5,value:"sourceMaps",id:"sourcemaps"},{depth:4,value:"commonjs",id:"commonjs"},{depth:4,value:"typescript",id:"typescript"},{depth:5,value:"project",id:"project"},{depth:5,value:"tsc",id:"tsc"},{depth:4,value:"codegen",id:"codegen"},{depth:4,value:"custom",id:"custom"},{depth:5,value:"script",id:"script"},{depth:5,value:"clean",id:"clean"},{depth:2,value:"Commands",id:"commands"},{depth:3,value:"init",id:"init"},{depth:3,value:"build",id:"build"}];function d(e){let s=Object.assign({h1:"h1",p:"p",code:"code",a:"a",ul:"ul",li:"li",strong:"strong",h2:"h2",pre:"pre",span:"span",ol:"ol",h3:"h3",blockquote:"blockquote",h4:"h4",h5:"h5",img:"img"},(0,t.a)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h1,{children:"Build a React Native library"}),"\n",(0,i.jsxs)(s.p,{children:["When code is in non-standard syntaxes such as JSX, TypeScript etc, it needs to be compiled before it can run. Configuring this manually can be error-prone and annoying. ",(0,i.jsx)(s.code,{children:"react-native-builder-bob"})," aims to simplify this process by wrapping ",(0,i.jsx)(s.code,{children:"babel"})," and ",(0,i.jsx)(s.code,{children:"tsc"})," and taking care of the configuration. See ",(0,i.jsx)(s.a,{href:"./faq#why-should-i-compile-my-project-with-react-native-builder-bob",children:"this section"})," for a longer explanation."]}),"\n",(0,i.jsx)(s.p,{children:"Supported targets are:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules",children:"ES modules"})," build for modern tools"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://nodejs.org/api/modules.html#modules-commonjs-modules",children:"CommonJS"})," build for legacy tools"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://www.typescriptlang.org/",children:"TypeScript"})," definitions"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://flow.org/",children:"Flow"})," definitions (copies .js files to .flow files)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://reactnative.dev/docs/the-new-architecture/what-is-codegen",children:"Codegen"})," generated scaffold code"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["If you created a project with ",(0,i.jsx)(s.a,{href:"./create",children:(0,i.jsx)(s.code,{children:"create-react-native-library"})}),", ",(0,i.jsx)(s.code,{children:"react-native-builder-bob"})," is ",(0,i.jsx)(s.strong,{children:"already pre-configured to build your project"}),". You don't need to configure it again."]}),"\n",(0,i.jsxs)(s.p,{children:["The following configuration steps are for projects not created with ",(0,i.jsx)(s.code,{children:"create-react-native-library"}),"."]}),"\n",(0,i.jsx)(s.h2,{id:"automatic-configuration",children:"Automatic configuration"}),"\n",(0,i.jsxs)(s.p,{children:["To automatically configure your project to use ",(0,i.jsx)(s.code,{children:"react-native-builder-bob"}),", open a Terminal and run:"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"js","data-theme":"default",children:(0,i.jsx)(s.code,{"data-language":"js","data-theme":"default",children:(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"npx react"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"native"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"builder"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"bob@latest init"})]})})}),"\n",(0,i.jsx)(s.p,{children:"This will ask you a few questions and add the required configuration and scripts for building the code. The code will be compiled automatically when the package is published."}),"\n",(0,i.jsxs)(s.p,{children:["You can find details on what exactly it adds in the ",(0,i.jsx)(s.a,{href:"#manual-configuration",children:"Manual configuration"})," section."]}),"\n",(0,i.jsx)(s.h2,{id:"manual-configuration",children:"Manual configuration"}),"\n",(0,i.jsx)(s.p,{children:"To configure your project manually, follow these steps:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["First, install ",(0,i.jsx)(s.code,{children:"react-native-builder-bob"})," in your project. Open a Terminal in your project, and run:"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"sh","data-theme":"default",children:(0,i.jsx)(s.code,{"data-language":"sh","data-theme":"default",children:(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"yarn"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"add"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"--dev"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"react-native-builder-bob"})]})})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["In your ",(0,i.jsx)(s.code,{children:"package.json"}),", specify the targets to build for:"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"json","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"json","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"react-native-builder-bob"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:": {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"source"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"src"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"output"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"lib"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"targets"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ["})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    ["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"module"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"esm"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"true"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" }]"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"typescript"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  ]"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,i.jsxs)(s.p,{children:["See the ",(0,i.jsx)(s.a,{href:"#options",children:"Options"})," section for more details."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Add ",(0,i.jsx)(s.code,{children:"bob"})," to your ",(0,i.jsx)(s.code,{children:"prepare"})," or ",(0,i.jsx)(s.code,{children:"prepack"})," step:"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"js","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"js","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"scripts"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:": {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"prepare"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"bob build"'})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,i.jsxs)(s.p,{children:["Note that there is a difference between ",(0,i.jsx)(s.code,{children:"prepare"})," and ",(0,i.jsx)(s.code,{children:"prepack"})," scripts:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"prepare"})," is run when:\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["The package is published with Yarn 1 (",(0,i.jsx)(s.code,{children:"yarn publish"}),"), npm (",(0,i.jsx)(s.code,{children:"npm publish"}),") or pnpm (",(0,i.jsx)(s.code,{children:"pnpm publish"}),")"]}),"\n",(0,i.jsxs)(s.li,{children:["The package is installed from a GIT URL with Yarn 1 (",(0,i.jsx)(s.code,{children:"yarn add <git-url>"}),"), npm (",(0,i.jsx)(s.code,{children:"npm install <git-url>"}),") or pnpm (",(0,i.jsx)(s.code,{children:"pnpm add <git-url>"}),")"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"prepack"})," is run when:\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["The package is published with any package manager (",(0,i.jsx)(s.code,{children:"yarn publish"}),", ",(0,i.jsx)(s.code,{children:"npm publish"}),", ",(0,i.jsx)(s.code,{children:"pnpm publish"}),")"]}),"\n",(0,i.jsxs)(s.li,{children:["The package is installed from a GIT URL with Yarn 4 (",(0,i.jsx)(s.code,{children:"yarn add package-name@<git-url>"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["If you are not sure which one to use, we recommend going with ",(0,i.jsx)(s.code,{children:"prepare"})," as it works during both publishing and installing from GIT with more package managers."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Configure the appropriate entry points:"}),"\n",(0,i.jsx)(s.pre,{"data-language":"json","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"json","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"main"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:": "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"./lib/module/index.js"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"types"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:": "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"./lib/typescript/src/index.d.ts"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"exports"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:": {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"."'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"     "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"source"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"./src/index.tsx"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"     "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"types"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"./lib/typescript/src/index.d.ts"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"     "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"default"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"./lib/module/index.js"'})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"./package.json"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"./package.json"'})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"},"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"files"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:": ["})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"lib"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"src"'})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"})})]})}),"\n",(0,i.jsx)(s.p,{children:"Here is what each of these fields mean:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"main"}),": The entry point for legacy setups that don't support the ",(0,i.jsx)(s.code,{children:"exports"})," field. See ",(0,i.jsx)(s.a,{href:"./esm#compatibility",children:"Compatibility"})," for more details."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"types"}),": The entry point for the TypeScript definitions for legacy setups with ",(0,i.jsx)(s.code,{children:"moduleResolution: node10"})," or ",(0,i.jsx)(s.code,{children:"moduleResolution: node"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"exports"}),": The entry points for tools that support the ",(0,i.jsx)(s.code,{children:"exports"})," field in ",(0,i.jsx)(s.code,{children:"package.json"})," - such as Node.js 12+, modern browsers and tools. See ",(0,i.jsx)(s.a,{href:"./esm",children:"the ESM support guide"})," for more details."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"files"}),": The files to include in the package when publishing with ",(0,i.jsx)(s.code,{children:"npm"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Make sure to change specify correct files according to the targets you have enabled."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Add the output directory to ",(0,i.jsx)(s.code,{children:".gitignore"})," and ",(0,i.jsx)(s.code,{children:".eslintignore"})]}),"\n",(0,i.jsx)(s.pre,{"data-language":"gitignore","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"gitignore","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"# generated files by bob"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"lib/"})})]})}),"\n",(0,i.jsx)(s.p,{children:"This makes sure that you don't accidentally commit the generated files to git or get lint errors for them."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Add the output directory to ",(0,i.jsx)(s.code,{children:"jest.modulePathIgnorePatterns"})," if you use ",(0,i.jsx)(s.a,{href:"https://jestjs.io",children:"Jest"})]}),"\n",(0,i.jsx)(s.pre,{"data-language":"json","data-theme":"default",children:(0,i.jsx)(s.code,{"data-language":"json","data-theme":"default",children:(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"modulePathIgnorePatterns"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:": ["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"<rootDir>/lib/"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"})]})})}),"\n",(0,i.jsx)(s.p,{children:"This makes sure that Jest doesn't try to run the tests in the generated files."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"And we're done \uD83C\uDF89"}),"\n",(0,i.jsx)(s.h2,{id:"options",children:"Options"}),"\n",(0,i.jsxs)(s.p,{children:["The options can be specified in the ",(0,i.jsx)(s.code,{children:"package.json"})," file under the ",(0,i.jsx)(s.code,{children:"react-native-builder-bob"})," property, or in a ",(0,i.jsx)(s.code,{children:"bob.config.js"})," file in your project directory."]}),"\n",(0,i.jsx)(s.h3,{id:"source",children:(0,i.jsx)(s.code,{children:"source"})}),"\n",(0,i.jsxs)(s.p,{children:["The name of the folder with the source code which should be compiled. The folder should include an ",(0,i.jsx)(s.code,{children:"index"})," file."]}),"\n",(0,i.jsx)(s.h3,{id:"output",children:(0,i.jsx)(s.code,{children:"output"})}),"\n",(0,i.jsx)(s.p,{children:"The name of the folder where the compiled files should be output to. It will contain separate folder for each target."}),"\n",(0,i.jsx)(s.h3,{id:"exclude",children:(0,i.jsx)(s.code,{children:"exclude"})}),"\n",(0,i.jsxs)(s.p,{children:["Glob pattern to be used while filtering the unnecessary files. Defaults to ",(0,i.jsx)(s.code,{children:"'**/{__tests__,__fixtures__,__mocks__}/**'"})," if not specified."]}),"\n",(0,i.jsx)(s.p,{children:"Example:"}),"\n",(0,i.jsx)(s.pre,{"data-language":"json","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"json","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"{"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"exclude"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"ignore_me/**"'})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["This option only works with ",(0,i.jsx)(s.code,{children:"commonjs"})," and ",(0,i.jsx)(s.code,{children:"module"})," targets. To exclude files while building ",(0,i.jsx)(s.code,{children:"typescript"}),", please see ",(0,i.jsx)(s.a,{href:"https://www.typescriptlang.org/tsconfig#exclude",children:"the tsconfig exclude field"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"targets",children:(0,i.jsx)(s.code,{children:"targets"})}),"\n",(0,i.jsx)(s.p,{children:"Various targets to build for. The available targets are:"}),"\n",(0,i.jsx)(s.h4,{id:"module",children:(0,i.jsx)(s.code,{children:"module"})}),"\n",(0,i.jsxs)(s.p,{children:["Enable compiling source files with Babel and use ES module system (",(0,i.jsx)(s.code,{children:"import"}),"/",(0,i.jsx)(s.code,{children:"export"}),")."]}),"\n",(0,i.jsxs)(s.p,{children:["This is useful for modern bundlers that understand ES modules. Bundlers such as ",(0,i.jsx)(s.a,{href:"https://webpack.js.org",children:"webpack"})," can also tree-shake code using ES modules."]}),"\n",(0,i.jsxs)(s.p,{children:["The output file should be referenced in the ",(0,i.jsx)(s.code,{children:"module"})," field and ",(0,i.jsx)(s.code,{children:"exports['.'].import"})," (when ",(0,i.jsx)(s.code,{children:"esm: true"}),") field of ",(0,i.jsx)(s.code,{children:"package.json"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["By default, the code is compiled to support the last 2 versions of modern browsers. It also strips TypeScript and Flow annotations as well as compiles JSX code. You can customize the environments to compile for by using a ",(0,i.jsx)(s.a,{href:"https://github.com/browserslist/browserslist#config-file",children:"browserslist config"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"In addition, the following options are supported:"}),"\n",(0,i.jsx)(s.h5,{id:"esm",children:(0,i.jsx)(s.code,{children:"esm"})}),"\n",(0,i.jsxs)(s.p,{children:["Setting this option to ",(0,i.jsx)(s.code,{children:"true"})," will output ES modules compatible code for Node.js 12+, modern browsers and tools that support ",(0,i.jsx)(s.code,{children:"package.json"}),"'s ",(0,i.jsx)(s.code,{children:"exports"})," field."]}),"\n",(0,i.jsxs)(s.p,{children:["See the ",(0,i.jsx)(s.a,{href:"./esm",children:"ESM support"})," guide for more details."]}),"\n",(0,i.jsx)(s.h5,{id:"configfile",children:(0,i.jsx)(s.code,{children:"configFile"})}),"\n",(0,i.jsxs)(s.p,{children:["To customize the babel config used, you can pass the ",(0,i.jsx)(s.a,{href:"https://babeljs.io/docs/en/options#configfile",children:(0,i.jsx)(s.code,{children:"configFile"})})," option as ",(0,i.jsx)(s.code,{children:"true"})," if you have a ",(0,i.jsx)(s.code,{children:"babel.config.js"})," or a path to a custom config file. This will override the default configuration."]}),"\n",(0,i.jsxs)(s.p,{children:["It is recommended that you extend the default configuration by using the ",(0,i.jsx)(s.a,{href:"https://github.com/callstack/react-native-builder-bob/blob/main/packages/react-native-builder-bob/babel-preset.js",children:(0,i.jsx)(s.code,{children:"react-native-builder-bob/babel-preset"})})," preset in your custom config file:"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"js","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"js","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"module"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"exports"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  presets"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'react-native-builder-bob/babel-preset'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})})]})}),"\n",(0,i.jsxs)(s.p,{children:["This will make sure that the ",(0,i.jsx)(s.code,{children:"commonjs"})," target produces code using CommonJS and the ",(0,i.jsx)(s.code,{children:"module"})," target produces code using ES modules. It is also necessary for the ",(0,i.jsx)(s.code,{children:"esm"})," option to work correctly."]}),"\n",(0,i.jsx)(s.p,{children:"If you don't want to use the preset, then make sure to conditionally enable or disable the CommonJS transform with the following condition:"}),"\n",(0,i.jsx)(s.pre,{"data-language":"js","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"js","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"module"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"exports"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (api) "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"isCommonJSTransformDisabled"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"api"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".caller"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// If `supportsStaticESM` is `true`, output ES modules, otherwise output CommonJS"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    (caller) "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" caller "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"&&"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"caller"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".supportsStaticESM"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  );"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Your config here"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  };"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})})]})}),"\n",(0,i.jsxs)(s.p,{children:["If you're using ",(0,i.jsx)(s.a,{href:"https://babeljs.io/docs/babel-preset-env",children:(0,i.jsx)(s.code,{children:"@babel/preset-env"})})," with the ",(0,i.jsx)(s.a,{href:"https://babeljs.io/docs/babel-preset-env#modules",children:(0,i.jsx)(s.code,{children:"modules"})})," option set to ",(0,i.jsx)(s.code,{children:'"auto"'})," (which is the default), it will be automatically configured to correctly enable the CommonJS transform when needed, so additional configuration is not necessary."]}),"\n",(0,i.jsx)(s.h5,{id:"babelrc",children:(0,i.jsx)(s.code,{children:"babelrc"})}),"\n",(0,i.jsxs)(s.p,{children:["You can set the ",(0,i.jsx)(s.a,{href:"https://babeljs.io/docs/en/options#babelrc",children:(0,i.jsx)(s.code,{children:"babelrc"})})," option to ",(0,i.jsx)(s.code,{children:"true"})," to enable using ",(0,i.jsx)(s.code,{children:".babelrc"})," files. Similar considerations apply as with the ",(0,i.jsx)(s.code,{children:"configFile"})," option."]}),"\n",(0,i.jsx)(s.h5,{id:"jsxruntime",children:(0,i.jsx)(s.code,{children:"jsxRuntime"})}),"\n",(0,i.jsxs)(s.p,{children:["By default, JSX is compiled to use the ",(0,i.jsx)(s.code,{children:"automatic"})," ",(0,i.jsx)(s.a,{href:"https://babeljs.io/docs/babel-preset-react#runtime",children:"runtime"})," ",(0,i.jsx)(s.a,{href:"https://legacy.reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html",children:"introduced in React 17"}),". This transform is also compatible with React 16.14.0, React 15.7.0, and React 0.14.10."]}),"\n",(0,i.jsxs)(s.p,{children:["If you want to use the classic runtime for any other reason, you can set the ",(0,i.jsx)(s.code,{children:"jsxRuntime"})," option to ",(0,i.jsx)(s.code,{children:"classic"})," explicitly."]}),"\n",(0,i.jsxs)(s.p,{children:["This option has no effect when overriding the default babel configuration without using ",(0,i.jsx)(s.code,{children:"react-native-builder-bob/babel-preset"}),"."]}),"\n",(0,i.jsx)(s.h5,{id:"copyflow",children:(0,i.jsx)(s.code,{children:"copyFlow"})}),"\n",(0,i.jsxs)(s.p,{children:["If your source code is written in ",(0,i.jsx)(s.a,{href:"https://flow.org/",children:"Flow"}),", You can specify the ",(0,i.jsx)(s.code,{children:"copyFlow"})," option to ",(0,i.jsx)(s.code,{children:"true"})," to copy the source files as ",(0,i.jsx)(s.code,{children:".js.flow"})," to the output folder. If the ",(0,i.jsx)(s.code,{children:"main"})," entry in ",(0,i.jsx)(s.code,{children:"package.json"})," points to the ",(0,i.jsx)(s.code,{children:"index"})," file in the output folder, the flow type checker will pick these files up to use for type definitions."]}),"\n",(0,i.jsx)(s.h5,{id:"sourcemaps",children:(0,i.jsx)(s.code,{children:"sourceMaps"})}),"\n",(0,i.jsxs)(s.p,{children:["Sourcemaps are generated by default alongside the compiled files. You can disable them by setting the ",(0,i.jsx)(s.code,{children:"sourceMaps"})," option to ",(0,i.jsx)(s.code,{children:"false"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"Example:"}),"\n",(0,i.jsx)(s.pre,{"data-language":"json","data-theme":"default",children:(0,i.jsx)(s.code,{"data-language":"json","data-theme":"default",children:(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"module"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"esm"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"true"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" }]"})]})})}),"\n",(0,i.jsx)(s.h4,{id:"commonjs",children:(0,i.jsx)(s.code,{children:"commonjs"})}),"\n",(0,i.jsxs)(s.p,{children:["Enable compiling source files with Babel and use CommonJS module system. This is essentially the same as the ",(0,i.jsx)(s.code,{children:"module"})," target and accepts the same options, but transforms the ",(0,i.jsx)(s.code,{children:"import"}),"/",(0,i.jsx)(s.code,{children:"export"})," statements in your code to ",(0,i.jsx)(s.code,{children:"require"}),"/",(0,i.jsx)(s.code,{children:"module.exports"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["This is useful for supporting tools that don't support ES modules yet, see ",(0,i.jsx)(s.a,{href:"./esm#compatibility",children:"the Compatibility section in our ESM guide"})," for more details."]}),"\n",(0,i.jsxs)(s.p,{children:["The output file should be referenced in the ",(0,i.jsx)(s.code,{children:"main"})," field. If you have a ",(0,i.jsx)(s.a,{href:"esm#dual-package-setup",children:"dual package setup"})," with both ESM and CommonJS builds, it needs to be specified in ",(0,i.jsx)(s.code,{children:"exports['.'].require"})," field of ",(0,i.jsx)(s.code,{children:"package.json"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"Example:"}),"\n",(0,i.jsx)(s.pre,{"data-language":"json","data-theme":"default",children:(0,i.jsx)(s.code,{"data-language":"json","data-theme":"default",children:(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"commonjs"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"sourceMaps"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"false"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"copyFlow"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"true"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" }]"})]})})}),"\n",(0,i.jsx)(s.h4,{id:"typescript",children:(0,i.jsx)(s.code,{children:"typescript"})}),"\n",(0,i.jsxs)(s.p,{children:["Enable generating type definitions with ",(0,i.jsx)(s.code,{children:"tsc"})," if your source code is written in ",(0,i.jsx)(s.a,{href:"https://www.typescriptlang.org/",children:"TypeScript"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["When both ",(0,i.jsx)(s.code,{children:"module"})," and ",(0,i.jsx)(s.code,{children:"commonjs"})," targets are enabled, and ",(0,i.jsx)(s.code,{children:"esm"})," is set to ",(0,i.jsx)(s.code,{children:"true"})," for the ",(0,i.jsx)(s.code,{children:"module"})," target, this will output 2 sets of type definitions: one for the CommonJS build and one for the ES module build."]}),"\n",(0,i.jsx)(s.p,{children:"The following options are supported:"}),"\n",(0,i.jsx)(s.h5,{id:"project",children:(0,i.jsx)(s.code,{children:"project"})}),"\n",(0,i.jsxs)(s.p,{children:["By default, the ",(0,i.jsx)(s.code,{children:"tsconfig.json"})," file in the root of your project is used to generate the type definitions. You can specify a path to a different config by using the ",(0,i.jsx)(s.code,{children:"project"})," option. This can be useful if you need to use different configs for development and production."]}),"\n",(0,i.jsx)(s.h5,{id:"tsc",children:(0,i.jsx)(s.code,{children:"tsc"})}),"\n",(0,i.jsxs)(s.p,{children:["The path to the ",(0,i.jsx)(s.code,{children:"tsc"})," binary is automatically detected and defaults to the one installed in your project. You can use the ",(0,i.jsx)(s.code,{children:"tsc"})," option to specify a different path."]}),"\n",(0,i.jsx)(s.p,{children:"Example:"}),"\n",(0,i.jsx)(s.pre,{"data-language":"json","data-theme":"default",children:(0,i.jsx)(s.code,{"data-language":"json","data-theme":"default",children:(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"typescript"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"project"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"tsconfig.build.json"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" }]"})]})})}),"\n",(0,i.jsxs)(s.p,{children:["The output file should be referenced in the ",(0,i.jsx)(s.code,{children:"exports['.'].types"})," field of ",(0,i.jsx)(s.code,{children:"package.json"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["If you need to support legacy setups that use ",(0,i.jsx)(s.code,{children:"moduleResolution: node10"})," or ",(0,i.jsx)(s.code,{children:"moduleResolution: node"}),", you can also add a ",(0,i.jsx)(s.code,{children:"types"})," field to the ",(0,i.jsx)(s.code,{children:"package.json"})," file that points to the output file."]}),"\n",(0,i.jsx)(s.h4,{id:"codegen",children:(0,i.jsx)(s.code,{children:"codegen"})}),"\n",(0,i.jsxs)(s.p,{children:["Enable generating the ",(0,i.jsx)(s.a,{href:"https://reactnative.dev/docs/the-new-architecture/what-is-codegen",children:"React Native Codegen"})," scaffold code when building the library."]}),"\n",(0,i.jsxs)(s.p,{children:["If you use this ",(0,i.jsx)(s.code,{children:"target"}),", you'll also want to use ",(0,i.jsx)(s.code,{children:'"includesGeneratedCode": true'})," to ship the generated code with your library. Before you do so, make sure to ",(0,i.jsx)(s.a,{href:"https://reactnative.dev/docs/the-new-architecture/codegen-cli#including-generated-code-into-libraries",children:"read the official docs"})," to understand the advantages and tradeoffs of this approach."]}),"\n",(0,i.jsx)(s.p,{children:"If you want to ship codegen generated code with your library, you can do the following steps to integrate it with the library's workflow:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Add the ",(0,i.jsx)(s.code,{children:"codegen"})," target to the ",(0,i.jsx)(s.code,{children:"react-native-builder-bob"})," field in your ",(0,i.jsx)(s.code,{children:"package.json"})," or ",(0,i.jsx)(s.code,{children:"bob.config.js"}),":"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"diff","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"diff","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:' "source": "src",'})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:' "output": "lib",'})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:' "targets": ['})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"   // …"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#4BB74A"},children:'+  "codegen"'})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ]"})})]})}),"\n",(0,i.jsxs)(s.p,{children:["This will enable the codegen script to run when you publish the library (if ",(0,i.jsx)(s.code,{children:"bob build"})," is configured to be run on publish)."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Add ",(0,i.jsx)(s.code,{children:"@react-native-community/cli"})," as a ",(0,i.jsx)(s.code,{children:"devDependency"})," in your ",(0,i.jsx)(s.code,{children:"package.json"}),":"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"diff","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"diff","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:'"devDependencies": {'})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  // …"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#4BB74A"},children:'+ "@react-native-community/cli": "^x.x.x"'})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,i.jsxs)(s.p,{children:["For the ",(0,i.jsx)(s.code,{children:"@react-native-community/cli"})," version, refer to the ",(0,i.jsx)(s.code,{children:"example/package.json"})," file. The version should be the same as the one used in the ",(0,i.jsx)(s.code,{children:"example"})," app."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Add ",(0,i.jsx)(s.code,{children:'"includesGeneratedCode": true'})," and ",(0,i.jsx)(s.code,{children:'"outputDir"'})," to the ",(0,i.jsx)(s.code,{children:"codegenConfig"})," field in your ",(0,i.jsx)(s.code,{children:"package.json"}),":"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"diff","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"diff","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:'"codegenConfig": {'})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  // …"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#4BB74A"},children:'+ "outputDir": {'})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#4BB74A"},children:'+   "ios": "ios/generated",'})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#4BB74A"},children:'+   "android": "android/generated"'})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#4BB74A"},children:"+ },"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#4BB74A"},children:'+ "includesGeneratedCode": true'})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Update imports in your ios code to use the new paths for the generated code:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["If you have a Turbo Module, replace ",(0,i.jsx)(s.code,{children:"YourProjectNameSpec.h"})," with ",(0,i.jsx)(s.code,{children:"YourProjectName/YourProjectNameSpec.h"}),":"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"diff","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"diff","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#EF6270"},children:"- #import <YourProjectNameSpec/YourProjectNameSpec.h>"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#4BB74A"},children:"+ #import <YourProjectName/YourProjectNameSpec.h>"})})]})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["If you have a Fabric View, replace ",(0,i.jsx)(s.code,{children:"react/renderer/components/YourProjectNameViewSpec/"})," with ",(0,i.jsx)(s.code,{children:"YourProjectName/"}),":"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"diff","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"diff","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#EF6270"},children:"- #import <react/renderer/components/YourProjectNameViewSpec/ComponentDescriptors.h>"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#EF6270"},children:"- #import <react/renderer/components/YourProjectNameViewSpec/EventEmitters.h>"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#EF6270"},children:"- #import <react/renderer/components/YourProjectNameViewSpec/Props.h>"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#EF6270"},children:"- #import <react/renderer/components/YourProjectNameViewSpec/RCTComponentViewHelpe"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"rs.h>"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#4BB74A"},children:"+ #import <YourProjectName/ComponentDescriptors.h>"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#4BB74A"},children:"+ #import <YourProjectName/EventEmitters.h>"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#4BB74A"},children:"+ #import <YourProjectName/Props.h>"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"#4BB74A"},children:"+ #import <YourProjectName/RCTComponentViewHelpers.h>"})})]})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Add a ",(0,i.jsx)(s.code,{children:"react-native.config.js"})," at the root with the correct ",(0,i.jsx)(s.code,{children:"cmakeListsPath"}),":"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"js","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"js","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"/**"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" * "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"@type"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"{import('@react-native-community/cli-types').UserDependencyConfig}"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" */"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"module"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"exports"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  dependency"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    platforms"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      android"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        cmakeListsPath"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'generated/jni/CMakeLists.txt'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})})]})}),"\n",(0,i.jsxs)(s.p,{children:["This makes sure that gradle will pickup the ",(0,i.jsx)(s.code,{children:"CMakeLists.txt"})," file generated by the codegen script on Android."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Add a gradle task to ",(0,i.jsx)(s.code,{children:"example/android/app/build.gradle"})," to automatically run the codegen script when building the example app:"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"groovy","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"groovy","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"tasks"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"register("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'invokeLibraryCodegen'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"Exec"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  workingDir "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"$rootDir/../../"'})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"def"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" isWindows "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"System."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"getProperty("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'os.name'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"toLowerCase()"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"contains("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'windows'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (isWindows) {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    commandLine "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'cmd'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'/c'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'npx bob build --target codegen'"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  } "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"else"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    commandLine "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'sh'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'-c'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'npx bob build --target codegen'"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"preBuild"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"dependsOn invokeLibraryCodegen"})]})]})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Add a ",(0,i.jsx)(s.code,{children:"pre_install"})," hook to ",(0,i.jsx)(s.code,{children:"example/ios/Podfile"})," to automatically run the codegen script when installing pods:"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"ruby","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"ruby","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"pre_install "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"do"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"|"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"installer"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"|"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"system"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"cd ../../ && npx bob build --target codegen"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"end"})})]})}),"\n",(0,i.jsxs)(s.p,{children:["This will likely be inside the ",(0,i.jsx)(s.code,{children:"target 'YourAppName' do"})," block."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["And you're done! Make sure to run ",(0,i.jsx)(s.code,{children:"pod install"})," in the ",(0,i.jsx)(s.code,{children:"example/ios"})," folder and then run the example app to make sure everything works."]}),"\n",(0,i.jsx)(s.h4,{id:"custom",children:(0,i.jsx)(s.code,{children:"custom"})}),"\n",(0,i.jsxs)(s.p,{children:["Define a custom build target. This is useful to call custom scripts during when running ",(0,i.jsx)(s.code,{children:"bob build"}),"."]}),"\n",(0,i.jsx)(s.h5,{id:"script",children:(0,i.jsx)(s.code,{children:"script"})}),"\n",(0,i.jsxs)(s.p,{children:["Name of the script to run. The script must be defined in the ",(0,i.jsx)(s.code,{children:"package.json"})," file under the ",(0,i.jsx)(s.code,{children:"scripts"})," property. This property is required."]}),"\n",(0,i.jsx)(s.p,{children:"This script is run asynchronously alongside the other build targets."}),"\n",(0,i.jsx)(s.h5,{id:"clean",children:(0,i.jsx)(s.code,{children:"clean"})}),"\n",(0,i.jsxs)(s.p,{children:["Optionally, you can specify a path to cleanup before running the build script. The path is resolved relatively to where ",(0,i.jsx)(s.code,{children:"build"})," was called from."]}),"\n",(0,i.jsx)(s.p,{children:"This is useful if your script generates output files. Cleaning the output folder before running the script ensures that the output doesn't contain stale files."}),"\n",(0,i.jsx)(s.p,{children:"Example:"}),"\n",(0,i.jsx)(s.pre,{"data-language":"json","data-theme":"default",children:(0,i.jsx)(s.code,{"data-language":"json","data-theme":"default",children:(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"custom"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"script"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"my-custom-build"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"clean"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"my-output-folder/"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" }]"})]})})}),"\n",(0,i.jsx)(s.h2,{id:"commands",children:"Commands"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"bob"})," CLI exposes the following commands:"]}),"\n",(0,i.jsx)(s.h3,{id:"init",children:(0,i.jsx)(s.code,{children:"init"})}),"\n",(0,i.jsxs)(s.p,{children:["This configures an existing project to use ",(0,i.jsx)(s.code,{children:"bob"})," by adding the required configuration and dependencies. This is usually run with ",(0,i.jsx)(s.code,{children:"npx"}),":"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"sh","data-theme":"default",children:(0,i.jsx)(s.code,{"data-language":"sh","data-theme":"default",children:(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"npx"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"react-native-builder-bob@latest"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"init"})]})})}),"\n",(0,i.jsx)(s.h3,{id:"build",children:(0,i.jsx)(s.code,{children:"build"})}),"\n",(0,i.jsxs)(s.p,{children:["This builds the project according to the configuration. This is usually run as part of the package's publishing flow, i.e. in the ",(0,i.jsx)(s.code,{children:"prepare"})," or ",(0,i.jsx)(s.code,{children:"prepack"})," scripts."]}),"\n",(0,i.jsx)(s.pre,{"data-language":"json","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"json","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"scripts"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:": {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"prepare"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"bob build"'})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Demo",src:c})})]})}let h={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,t.a)(),e.components);return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)},pageOpts:{filePath:"pages/build.md",route:"/build",pageMap:[{kind:"Meta",data:{index:"Introduction",create:"Scaffold a library",build:"Build a library",esm:"ESM support",faq:"FAQ"}},{kind:"MdxPage",name:"build",route:"/build"},{kind:"MdxPage",name:"create",route:"/create"},{kind:"MdxPage",name:"esm",route:"/esm"},{kind:"MdxPage",name:"faq",route:"/faq"},{kind:"MdxPage",name:"index",route:"/"}],flexsearch:{codeblocks:!0},title:"Build a React Native library",headings:a},pageNextRoute:"/build",nextraLayout:l.ZP,themeConfig:o.Z};var p=(0,r.j)(h)},6282:function(e,s,n){"use strict";var i=n(4246);n(7378),s.Z={primaryHue:30,logo:(0,i.jsx)("span",{style:{fontSize:"32px"},children:"\uD83D\uDC77‍♂️"}),project:{link:"https://github.com/callstack/react-native-builder-bob"},docsRepositoryBase:"https://github.com/callstack/react-native-builder-bob/tree/main/docs",head:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,i.jsx)("meta",{property:"og:description",content:"Bob - Create and build React Native libraries with ease"})]}),faviconGlyph:"\uD83D\uDC77‍♂️",footer:{text:(0,i.jsxs)("span",{children:["Copyright \xa9 ",new Date().getFullYear()," ",(0,i.jsx)("a",{href:"https://www.callstack.com/",target:"_blank",rel:"noreferrer",children:"Callstack Open Source"}),"."]})},useNextSeoProps:()=>({titleTemplate:"%s – Bob"})}}},function(e){e.O(0,[774,374,888,179],function(){return e(e.s=7272)}),_N_E=e.O()}]);